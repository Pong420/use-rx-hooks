(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73);exports.useRxInput=function useRxInput({defaultValue:defaultValue="",pipe:pipe}={}){const subject=react_1.useRef(new rxjs_1.Subject),[value,setValue]=react_1.useState(defaultValue),[output,setOutput]=react_1.useState(void 0===pipe?defaultValue:void 0),handleChange=react_1.useCallback(event=>subject.current.next(event),[]);return react_1.useEffect(()=>{const subsciprtion=subject.current.pipe(operators_1.map(evt=>evt.target.value),operators_1.tap(next=>setValue(next)),operators_1.startWith(defaultValue),pipe||rxjs_1.pipe()).subscribe(setOutput);return()=>subsciprtion.unsubscribe()},[defaultValue,pipe]),[output,{value:value,onChange:handleChange}]}},205:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73);function isFile(object){return object instanceof File}exports.useRxFileToImage=function useRxFileToImage(source$){const[state,setState]=react_1.useState();return react_1.useEffect(()=>{const subscription=rxjs_1.merge(...Array.isArray(source$)?source$:[source$]).pipe(operators_1.mergeMap(([items,event])=>{const list=[];if(items&&items.length)for(let i=0;i<items.length;i++){const item=items[i];if(-1!==item.type.indexOf("image")){event.preventDefault();const file=isFile(item)?item:item.getAsFile();file&&list.push(getBase64ImageURL(file).pipe(operators_1.map(url=>({url:url,file:file}))))}}return rxjs_1.merge(...list)})).subscribe(setState);return()=>{subscription.unsubscribe(),setState(void 0)}},[source$]),state};const getBase64ImageURL=file=>new rxjs_1.Observable(observer=>{const canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),img=new Image;img.onload=()=>{canvas.width=img.width,canvas.height=img.height,ctx.drawImage(img,0,0),observer.next(canvas.toDataURL(file.type))},img.src=URL.createObjectURL(file),img.onerror=observer.error})},206:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(0)),style={display:"flex",marginTop:10,backgroundColor:"rgb(242, 242, 242)",padding:10},imageContainerStyle={alignSelf:"center",maxWidth:200,marginRight:10};exports.Display=function Display({payload:payload}){const[images,setImages]=react_1.useState([]);return react_1.useEffect(()=>{payload&&setImages(curr=>[...curr,payload])},[payload]),react_1.default.createElement("div",null,images.map(({url:url,...rest},index)=>react_1.default.createElement("div",{key:index,style:style},react_1.default.createElement("div",{className:"image",style:imageContainerStyle},react_1.default.createElement("img",{src:url,alt:"",width:"100%"})),react_1.default.createElement("pre",{className:"json"},JSON.stringify(function clone({file:file,...rest}){if(file)return{file:{lastModified:file.lastModified,name:file.name,size:file.size,type:file.type},...rest};return{}}(rest),null,2)))))}},410:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73),useRxFileToImage_1=__webpack_require__(205);function fromChangeEvent(event){return[event.target.files&&event.target.files,event]}exports.fromChangeEvent=fromChangeEvent,exports.useRxUploadImage=function useRxUploadImage(){const subject=react_1.useRef(new rxjs_1.Subject),[source$,props]=react_1.useMemo(()=>[subject.current.pipe(operators_1.map(fromChangeEvent)),{onChange:event=>subject.current.next(event)}],[]);return[useRxFileToImage_1.useRxFileToImage(source$),props]}},413:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73),useRxFileToImage_1=__webpack_require__(205);function fromPasteImageEvent(clipboardEvent){return[clipboardEvent.clipboardData&&clipboardEvent.clipboardData.items,clipboardEvent]}exports.fromPasteImageEvent=fromPasteImageEvent,exports.useRxPasteImage=function useRxPasteImage(){const subject=react_1.useRef(new rxjs_1.Subject),[source$,props]=react_1.useMemo(()=>[subject.current.pipe(operators_1.map(fromPasteImageEvent)),{onPaste:event=>subject.current.next(event)}],[]);return[useRxFileToImage_1.useRxFileToImage(source$),props]}},414:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73),useRxFileToImage_1=__webpack_require__(205);function fromDropImageEvent(dragEvent){return[dragEvent.dataTransfer&&dragEvent.dataTransfer.items,dragEvent]}exports.fromDropImageEvent=fromDropImageEvent,exports.preventDragOver=event=>event.preventDefault(),exports.useRxDropImage=function useRxDropImage(){const subject=react_1.useRef(new rxjs_1.Subject),[source$,props]=react_1.useMemo(()=>[subject.current.pipe(operators_1.map(fromDropImageEvent)),{onDragOver:exports.preventDragOver,onDrop:event=>{subject.current.next(event)}}],[]);return[useRxFileToImage_1.useRxFileToImage(source$),props]}},415:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73),useRxInput_1=__webpack_require__(165);exports.useRxInputComposing=function useRxInputComposing({pipe:pipe,...options}={}){const compositionStart$=react_1.useRef(new rxjs_1.Subject),compositionEnd$=react_1.useRef(new rxjs_1.Subject),isComposing=react_1.useMemo(()=>source$=>{const isComposing$=rxjs_1.merge(compositionStart$.current.pipe(operators_1.map(()=>!0)),compositionEnd$.current.pipe(operators_1.map(()=>!1))).pipe(operators_1.startWith(!1));return source$.pipe(operators_1.combineLatest(isComposing$),operators_1.filter(([,isComposing])=>!isComposing),operators_1.map(([value])=>value),pipe||rxjs_1.pipe())},[pipe]),[value,inputProps]=useRxInput_1.useRxInput({pipe:isComposing,...options});return[value,react_1.useMemo(()=>{const handler=subject=>event=>subject.next(event);return{...inputProps,onCompositionStart:handler(compositionStart$.current),onCompositionEnd:handler(compositionEnd$.current)}},[inputProps])]}},427:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxUploadImage_1=__webpack_require__(410),Display_1=__webpack_require__(206);exports.UploadImage=()=>{const[image,props]=useRxUploadImage_1.useRxUploadImage();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({type:"file",multiple:!0},props)),react_1.default.createElement(Display_1.Display,{payload:image}))}},428:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxPasteImage_1=__webpack_require__(413),Display_1=__webpack_require__(206);exports.PasteImage=()=>{const[image,props]=useRxPasteImage_1.useRxPasteImage();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},props,{placeholder:"Paste image here"})),react_1.default.createElement(Display_1.Display,{payload:image}))}},429:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxDropImage_1=__webpack_require__(414),Display_1=__webpack_require__(206);exports.DropImage=()=>{const[image,props]=useRxDropImage_1.useRxDropImage();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",Object.assign({},props,{style:{width:"100%",border:"1px dashed",color:"#ccc",textAlign:"center",padding:30}}),"Drop an image to here"),react_1.default.createElement(Display_1.Display,{payload:image}))}},430:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(0)),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73),useRxFileToImage_1=__webpack_require__(205),useRxUploadImage_1=__webpack_require__(410),useRxDropImage_1=__webpack_require__(414),useRxPasteImage_1=__webpack_require__(413),Display_1=__webpack_require__(206);function mapEvent(event){return"paste"===event.type?useRxPasteImage_1.fromPasteImageEvent(event):"drop"===event.type?useRxDropImage_1.fromDropImageEvent(event):useRxUploadImage_1.fromChangeEvent(event)}exports.MixTogether=()=>{const fileInputRef=react_1.useRef(null),subject=react_1.useRef(new rxjs_1.Subject),image=useRxFileToImage_1.useRxFileToImage(subject.current.pipe(operators_1.map(mapEvent))),upload=event=>subject.current.next(event);return react_1.default.createElement("div",null,react_1.default.createElement("div",{onPaste:upload,onDrop:upload,onDragOver:event=>event.preventDefault(),tabIndex:1,onClick:()=>fileInputRef.current&&fileInputRef.current.click(),style:{width:"100%",border:"1px dashed",color:"#ccc",cursor:"pointer",textAlign:"center",padding:30}},react_1.default.createElement("input",{type:"file",ref:fileInputRef,hidden:!0,onChange:upload}),"Click or Drop an image to here"),react_1.default.createElement(Display_1.Display,{payload:image}))}},431:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxInput_1=__webpack_require__(165);exports.Basic=()=>{const[value,inputProps]=useRxInput_1.useRxInput();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},432:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxInput_1=__webpack_require__(165);exports.DefaultValue=()=>{const[value,inputProps]=useRxInput_1.useRxInput({defaultValue:"Default Value"});return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},433:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxInput_1=__webpack_require__(165),operators_1=__webpack_require__(73),debounce=ob=>ob.pipe(operators_1.debounceTime(1e3));exports.Debounce=()=>{const[value,inputProps]=useRxInput_1.useRxInput({pipe:debounce});return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},434:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxInput_1=__webpack_require__(165),operators_1=__webpack_require__(73),double=ob=>ob.pipe(operators_1.map(v=>isNaN(Number(v))?0:2*Number(v)));exports.Double=()=>{const[value,inputProps]=useRxInput_1.useRxInput({pipe:double});return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({type:"number"},inputProps)),react_1.default.createElement("pre",null,value))}},435:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxInputComposing_1=__webpack_require__(415);exports.Basic=()=>{const[value,inputProps]=useRxInputComposing_1.useRxInputComposing();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("pre",null,value),react_1.default.createElement("input",Object.assign({},inputProps)))}},436:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(0)),use_rx_async_1=__webpack_require__(864),useRxInputComposing_1=__webpack_require__(415),asyncFn=result=>(ms=>new Promise(_=>setTimeout(_,ms)))(2e3).then(()=>result);exports.Search=()=>{const[value,inputProps]=useRxInputComposing_1.useRxInputComposing(),{loading:loading,data:data,run:run}=use_rx_async_1.useRxAsync(asyncFn,{defer:!0});return react_1.useEffect(()=>{value&&run(value)},[run,value]),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("pre",null,loading?"Loading...":data),react_1.default.createElement("input",Object.assign({},inputProps)))}},437:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),useRxScroll_1=__webpack_require__(855);exports.Basic=function Basic(){const[state,props]=useRxScroll_1.useRxScroll();return react_1.default.createElement("div",{style:{position:"relative",height:300}},react_1.default.createElement("pre",{style:{position:"absolute",top:0,left:0}},JSON.stringify(state,null,2)),react_1.default.createElement("div",Object.assign({},props,{style:{overscrollBehavior:"contain",overflow:"scroll",position:"absolute",width:"100%",height:300}}),react_1.default.createElement("div",{style:{width:5e3,height:5e3}})))}},438:function(module,exports,__webpack_require__){__webpack_require__(439),__webpack_require__(548),module.exports=__webpack_require__(549)},460:function(module,exports){},49:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(0)),components_1=__webpack_require__(91);exports.Preview=({language:language="jsx",code:code,children:children,withSource:withSource,...props})=>react_1.default.createElement(components_1.Preview,{withSource:{...withSource,code:code,language:language},...props},children),exports.delay=ms=>new Promise(_=>setTimeout(_,ms))},549:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(417);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(724),module)}.call(this,__webpack_require__(550)(module))},724:function(module,exports,__webpack_require__){var map={"./__stories__/useRxAsync/useRxAsync.stories.mdx":725,"./__stories__/useRxFileToImage/useRxFileToImage.stories.mdx":857,"./__stories__/useRxInput/useRxInput.stories.mdx":858,"./__stories__/useRxInputComposing/useRxInput.stories.mdx":863,"./__stories__/useScroll/useScroll.stories.mdx":861};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=724},725:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"useRxAsync",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"Goto my other repo ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/Pong420/useRxAsync"}),"useRxAsync")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxAsync",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent},__webpack_exports__.default=componentMeta},855:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(0),rxjs_1=__webpack_require__(93),operators_1=__webpack_require__(73);function getPos(el){return el instanceof Window?{x:el.scrollX,y:el.scrollY}:{x:el.scrollTop,y:el.scrollLeft}}const initialState={x:0,y:0,scrolling:!1};exports.useRxScroll=function useRxScroll(ob){const subject=react_1.useRef(new rxjs_1.Subject),onScroll=react_1.useCallback(event=>subject.current.next(event),[]),[state,setState]=react_1.useState(initialState);return react_1.useEffect(()=>{const subscription=(ob||subject.current).pipe(operators_1.map(event=>({...getPos(event.currentTarget),scrolling:!0})),operators_1.tap(state=>setState(state)),operators_1.debounceTime(150),operators_1.tap(state=>setState({...state,scrolling:!1}))).subscribe();return()=>{subscription.unsubscribe(),setState(initialState)}},[ob]),[state,{onScroll:onScroll}]}},857:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(0);var index_es=__webpack_require__(3),blocks=__webpack_require__(29),utils=__webpack_require__(49),UploadImage=__webpack_require__(427),PasteImage=__webpack_require__(428),DropImage=__webpack_require__(429),MixTogether=__webpack_require__(430),useRxFileToImage_UploadImage="import React from 'react';\nimport { useRxUploadImage } from '../../useRxUploadImage';\nimport { Display } from './Display';\n\nexport const UploadImage = () => {\n  const [image, props] = useRxUploadImage();\n\n  return (\n    <>\n      <input type=\"file\" multiple {...props} />\n      <Display payload={image}></Display>\n    </>\n  );\n};\n",useRxFileToImage_PasteImage="import React from 'react';\nimport { useRxPasteImage } from '../../useRxPasteImage';\nimport { Display } from './Display';\n\nexport const PasteImage = () => {\n  const [image, props] = useRxPasteImage();\n\n  return (\n    <>\n      <input {...props} placeholder=\"Paste image here\" />\n      <Display payload={image}></Display>\n    </>\n  );\n};\n",useRxFileToImage_DropImage="import React from 'react';\nimport { useRxDropImage } from '../../useRxDropImage';\nimport { Display } from './Display';\n\nexport const DropImage = () => {\n  const [image, props] = useRxDropImage();\n\n  return (\n    <>\n      <div\n        {...props}\n        style={{\n          width: '100%',\n          border: '1px dashed',\n          color: '#ccc',\n          textAlign: 'center',\n          padding: 30,\n        }}\n      >\n        Drop an image to here\n      </div>\n      <Display payload={image}></Display>\n    </>\n  );\n};\n",useRxFileToImage_MixTogether="import React, { useRef, ChangeEvent, ClipboardEvent, DragEvent } from 'react';\nimport { Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { useRxFileToImage } from '../../useRxFileToImage';\nimport { fromChangeEvent } from '../../useRxUploadImage';\nimport { fromDropImageEvent } from '../../useRxDropImage';\nimport { fromPasteImageEvent } from '../../useRxPasteImage';\nimport { Display } from './Display';\n\ntype UploadEvent = ChangeEvent | ClipboardEvent | DragEvent;\n\nfunction mapEvent(event: UploadEvent) {\n  if (event.type === 'paste') {\n    return fromPasteImageEvent(event as ClipboardEvent);\n  }\n  if (event.type === 'drop') {\n    return fromDropImageEvent(event as DragEvent);\n  }\n  return fromChangeEvent(event as ChangeEvent<HTMLInputElement>);\n}\n\nexport const MixTogether = () => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const subject = useRef(new Subject<UploadEvent>());\n\n  const image = useRxFileToImage(subject.current.pipe(map(mapEvent)));\n\n  const upload = (event: UploadEvent) => subject.current.next(event);\n\n  return (\n    <div>\n      <div\n        onPaste={upload}\n        onDrop={upload}\n        onDragOver={event => event.preventDefault()}\n        tabIndex={1}\n        onClick={() => fileInputRef.current && fileInputRef.current.click()}\n        style={{\n          width: '100%',\n          border: '1px dashed',\n          color: '#ccc',\n          cursor: 'pointer',\n          textAlign: 'center',\n          padding: 30,\n        }}\n      >\n        <input type=\"file\" ref={fileInputRef} hidden onChange={upload} />\n        Click or Drop an image to here\n      </div>\n      <Display payload={image}></Display>\n    </div>\n  );\n};\n",Window="import React, { ClipboardEvent, DragEvent } from 'react';\nimport { merge, fromEvent } from 'rxjs';\nimport { map, tap, filter } from 'rxjs/operators';\nimport { fromDropImageEvent } from '../../useRxDropImage';\nimport { fromPasteImageEvent } from '../../useRxPasteImage';\nimport { useRxFileToImage } from '../../useRxFileToImage';\nimport { Display } from './Display';\n\nconst paste$ = fromEvent<ClipboardEvent<Window>>(window, 'paste').pipe(\n  map(fromPasteImageEvent)\n);\n\nconst drop$ = merge(\n  fromEvent<DragEvent<Window>>(window, 'drop'),\n  fromEvent<DragEvent<Window>>(window, 'dragover').pipe(\n    tap(event => event.preventDefault())\n  )\n).pipe(\n  filter(event => event.type === 'drop'),\n  map(fromDropImageEvent)\n);\n\nconst source$ = [paste$, drop$];\n\nexport const Window = () => {\n  const image = useRxFileToImage(source$);\n  return <Display payload={image} />;\n};\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxFileToImage",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxFileToImage"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [state?, props] = useRxFileToImage(...source$);\n\n// HOC of `useRxFileToImage`\nconst [state?, props] = useRxUploadImage();\nconst [state?, props] = useRxDropImage();\nconst [state?, props] = useRxPasteImage();\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"\ntype Source = [\n  FileList | DataTransferItemList | null,\n  Event | SyntheticEvent<Element | Window>\n];\n\nexport interface RxFileToImageState {\n  file: File;\n  url: string;\n}\n\nexport function useRxFileToImage(...source$: Array<Observable<Source>>): RxFileToImageState:\n\nexport function useRxUploadImage(): [RxFileToImageState | undefined, { onChange }];\nexport function useRxDropImage(): [RxFileToImageState | undefined, { onPaste }];\nexport function useRxPasteImage(): [RxFileToImageState | undefined, { onDrop, onDragOver }];\n")),Object(index_es.mdx)("h2",null,"Upload Image"),Object(index_es.mdx)(utils.Preview,{name:"Upload Image",code:useRxFileToImage_UploadImage,mdxType:"Preview"},Object(index_es.mdx)(UploadImage.UploadImage,{mdxType:"UploadImage"})),Object(index_es.mdx)("h2",null,"Paste Image"),Object(index_es.mdx)(utils.Preview,{name:"Paste Image",code:useRxFileToImage_PasteImage,mdxType:"Preview"},Object(index_es.mdx)(PasteImage.PasteImage,{mdxType:"PasteImage"})),Object(index_es.mdx)("h2",null,"Drop Image"),Object(index_es.mdx)(utils.Preview,{name:"Drop Image",code:useRxFileToImage_DropImage,mdxType:"Preview"},Object(index_es.mdx)(DropImage.DropImage,{mdxType:"DropImage"})),Object(index_es.mdx)("h2",null,"Mix Together"),Object(index_es.mdx)(utils.Preview,{name:"Mix Together",code:useRxFileToImage_MixTogether,mdxType:"Preview"},Object(index_es.mdx)(MixTogether.MixTogether,{mdxType:"MixTogether"})),Object(index_es.mdx)("h2",null,"Custom"),Object(index_es.mdx)("blockquote",null,Object(index_es.mdx)("p",{parentName:"blockquote"},"you could import ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"fromDropImageEvent"),", ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"fromPasteImageEvent"),", ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"useRxFileToImage")," from this libaray")),Object(index_es.mdx)("p",null,"An example"),Object(index_es.mdx)("ul",null,Object(index_es.mdx)("li",{parentName:"ul"},"mix paste and drop action"),Object(index_es.mdx)("li",{parentName:"ul"},"use window instead of dom")),Object(index_es.mdx)(blocks.Source,{code:Window,language:"jsx",mdxType:"Source"}))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxFileToImage",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta},858:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(0);var index_es=__webpack_require__(3),blocks=__webpack_require__(29),utils=__webpack_require__(49),Basic=__webpack_require__(431),DefaultValue=__webpack_require__(432),Debounce=__webpack_require__(433),Double=__webpack_require__(434),useRxInput_Basic="import React from 'react';\nimport { useRxInput } from '../../useRxInput';\n\nexport const Basic = () => {\n  const [value, inputProps] = useRxInput();\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_DefaultValue="import React from 'react';\nimport { useRxInput } from '../../useRxInput';\n\nexport const DefaultValue = () => {\n  const [value, inputProps] = useRxInput({ defaultValue: 'Default Value' });\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_Debounce="import React from 'react';\nimport { useRxInput, RxInputPipe } from '../../useRxInput';\nimport { debounceTime } from 'rxjs/operators';\n\nconst debounce: RxInputPipe<string> = ob => ob.pipe(debounceTime(1000));\n\nexport const Debounce = () => {\n  const [value, inputProps] = useRxInput({ pipe: debounce });\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_Double="import React from 'react';\nimport { useRxInput, RxInputPipe } from '../../useRxInput';\nimport { map } from 'rxjs/operators';\n\nconst double: RxInputPipe<number> = ob =>\n  ob.pipe(map(v => (!isNaN(Number(v)) ? Number(v) * 2 : 0)));\n\nexport const Double = () => {\n  const [value, inputProps] = useRxInput({ pipe: double });\n  return (\n    <>\n      <input type=\"number\" {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxInput",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxInput"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [value, inputProps] = useRxInput(options?);\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"export type RxInputEl = HTMLInputElement | HTMLTextAreaElement;\n\nexport type RxInputPipe<O> = (ob: Observable<string>) => Observable<string | O>;\n\nexport interface RxInputOptions<O> {\n  defaultValue?: string;\n  pipe?: RxInputPipe<O>;\n}\n\nexport function useRxInput<O, T extends RxInputEl = HTMLInputElement>(\n  options?: RxInputOptions<O>\n): [\n  string | O | undefined,\n  Required<Pick<InputHTMLAttributes<T>, 'value' | 'onChange'>>\n];\n")),Object(index_es.mdx)("h2",null,"Basic"),Object(index_es.mdx)(utils.Preview,{name:"Basic",code:useRxInput_Basic,mdxType:"Preview"},Object(index_es.mdx)(Basic.Basic,{mdxType:"Basic"})),Object(index_es.mdx)("h2",null,"With default value"),Object(index_es.mdx)(utils.Preview,{name:"Default Value",code:useRxInput_DefaultValue,mdxType:"Preview"},Object(index_es.mdx)(DefaultValue.DefaultValue,{mdxType:"DefaultValue"})),Object(index_es.mdx)("h2",null,"Debounce 1 second"),Object(index_es.mdx)(utils.Preview,{name:"Debounce",code:useRxInput_Debounce,mdxType:"Preview"},Object(index_es.mdx)(Debounce.Debounce,{mdxType:"Debounce"})),Object(index_es.mdx)("h2",null,"Double your input"),Object(index_es.mdx)(utils.Preview,{name:"Double",code:useRxInput_Double,mdxType:"Preview"},Object(index_es.mdx)(Double.Double,{mdxType:"Double"})))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxInput",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta},861:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(0);var index_es=__webpack_require__(3),blocks=__webpack_require__(29),utils=__webpack_require__(49),Basic=__webpack_require__(437),useScroll_Basic="import React from 'react';\nimport { useRxScroll } from '../../useRxScroll';\n\nexport function Basic() {\n  const [state, props] = useRxScroll();\n\n  return (\n    <div style={{ position: 'relative', height: 300 }}>\n      <pre style={{ position: 'absolute', top: 0, left: 0 }}>\n        {JSON.stringify(state, null, 2)}\n      </pre>\n      <div\n        {...props}\n        style={{\n          overscrollBehavior: 'contain',\n          overflow: 'scroll',\n          position: 'absolute',\n          width: '100%',\n          height: 300,\n        }}\n      >\n        <div style={{ width: 5000, height: 5000 }}></div>\n      </div>\n    </div>\n  );\n}\n",Window="import React, { UIEvent, useEffect } from 'react';\nimport { fromEvent } from 'rxjs';\nimport { useRxScroll } from '../../useRxScroll';\n\nconst windowScroll$ = fromEvent<UIEvent>(window, 'scroll');\n\nexport function Window() {\n  const [state] = useRxScroll(windowScroll$);\n\n  return <pre>{JSON.stringify(state, null, 2)}</pre>;\n}\n\n// or\n\nexport function Window2() {\n  const [state, { onScroll }] = useRxScroll();\n\n  useEffect(() => {\n    const handler = (event: any) => onScroll(event as UIEvent);\n    window.addEventListener('scroll', handler);\n    return () => window.removeEventListener('scroll', handler);\n  }, [onScroll]);\n\n  return <pre>{JSON.stringify(state, null, 2)}</pre>;\n}\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxScroll",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxScroll"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [state, props] = useRxScroll(ob?);\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { UIEvent } from 'react';\n\nexport interface RxScrollState {\n  x: number;\n  y: number;\n  scrolling: boolean;\n}\n\nexport function useRxScroll(ob?: Observable<UIEvent<T>>): [RxFileToImageState, { onScroll }]:\n")),Object(index_es.mdx)("h2",null,"Basic"),Object(index_es.mdx)(utils.Preview,{name:"Basic",code:useScroll_Basic,mdxType:"Preview"},Object(index_es.mdx)(Basic.Basic,{mdxType:"Basic"})),Object(index_es.mdx)("h2",null,"Use with window"),Object(index_es.mdx)(blocks.Source,{code:Window,language:"jsx",mdxType:"Source"}))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxScroll",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta},863:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(0);var index_es=__webpack_require__(3),blocks=__webpack_require__(29),utils=__webpack_require__(49),Basic=__webpack_require__(435),Search=__webpack_require__(436),useRxInputComposing_Basic="import React from 'react';\nimport { useRxInputComposing } from '../../useRxInputComposing';\n\nexport const Basic = () => {\n  const [value, inputProps] = useRxInputComposing();\n  return (\n    <>\n      <pre>{value}</pre>\n      <input {...inputProps} />\n    </>\n  );\n};\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxInputComposing",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxInputComposing"),Object(index_es.mdx)("p",null,"HOC of ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"useRxInput"),". ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"value")," will not change while input is composing"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [value, inputProps] = useRxInputComposing(options?);\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"export type RxInputEl = HTMLInputElement | HTMLTextAreaElement;\n\nexport type RxInputPipe<O> = (ob: Observable<string>) => Observable<string | O>;\n\nexport interface RxInputOptions<O> {\n  defaultValue?: string;\n  pipe?: RxInputPipe<O>;\n}\n\n\nexport function useRxInputComposing<O, T extends RxInputEl = HTMLInputElement>(\n  options?: RxInputOptions<O>\n): [\n  string | O | undefined,\n  Required<\n    Pick<\n      InputHTMLAttributes<T>,\n      'value' | 'onChange' | 'onCompositionStart' | 'onCompositionEnd'\n    >\n  >\n];\n")),Object(index_es.mdx)("h2",null,"Basic"),Object(index_es.mdx)(utils.Preview,{name:"Basic",code:useRxInputComposing_Basic,mdxType:"Preview"},Object(index_es.mdx)(Basic.Basic,{mdxType:"Basic"})),Object(index_es.mdx)("h2",null,"Search"),Object(index_es.mdx)(utils.Preview,{name:"Search",code:useRxInputComposing_Basic,mdxType:"Preview"},Object(index_es.mdx)(Search.Search,{mdxType:"Search"})))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxInputComposing",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta}},[[438,1,2]]]);
//# sourceMappingURL=main.19c52277ab106a083828.bundle.js.map