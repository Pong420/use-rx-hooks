(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(1),rxjs_1=__webpack_require__(129),operators_1=__webpack_require__(105);exports.useRxInput=function useRxInput({defaultValue:defaultValue="",pipe:pipe}={}){const subject=react_1.useRef(new rxjs_1.Subject),[value,setValue]=react_1.useState(defaultValue),[output,setOutput]=react_1.useState(void 0===pipe?defaultValue:void 0),handleChange=react_1.useCallback(event=>subject.current.next(event),[]);return react_1.useEffect(()=>{const subsciprtion=subject.current.pipe(operators_1.map(evt=>evt.target.value),operators_1.tap(next=>setValue(next)),operators_1.startWith(defaultValue),pipe||rxjs_1.pipe()).subscribe(setOutput);return()=>subsciprtion.unsubscribe()},[defaultValue,pipe]),[output,{value:value,onChange:handleChange}]}},409:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const rxjs_1=__webpack_require__(129),operators_1=__webpack_require__(105),react_1=__webpack_require__(1);exports.useRxFileToImage=function useRxFileToImage(...source$){const[state,setState]=react_1.useState();return react_1.useEffect(()=>{const subscription=rxjs_1.merge(...source$).pipe(operators_1.map(([items,event])=>{if(items&&items.length)for(let i=0;i<items.length;i++)if(-1!==items[i].type.indexOf("image"))return event.preventDefault(),{file:items[i].getAsFile(),type:items[i].type};return null}),operators_1.switchMap(state=>state?getBase64ImageURL(state).pipe(operators_1.map(url=>({url:url,...state}))):rxjs_1.empty())).subscribe(setState);return()=>subscription.unsubscribe()},[source$]),state};const getBase64ImageURL=({file:file,type:type})=>new rxjs_1.Observable(observer=>{const canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),img=new Image;img.onload=()=>{canvas.width=img.width,canvas.height=img.height,ctx.drawImage(img,0,0),observer.next(canvas.toDataURL(type))},img.src=URL.createObjectURL(file),img.onerror=observer.error})},410:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__(1)),style={display:"flex",marginTop:10,backgroundColor:"rgb(242, 242, 242)",padding:10},imageContainerStyle={alignSelf:"center",maxWidth:200,marginRight:10};exports.Display=function Display({image:image}){const[images,setImages]=react_1.useState([]);return react_1.useEffect(()=>{image&&setImages(curr=>[...curr,image])},[image]),react_1.default.createElement("div",null,images.map(({url:url,...rest},index)=>react_1.default.createElement("div",{key:index,style:style},react_1.default.createElement("div",{className:"image",style:imageContainerStyle},react_1.default.createElement("img",{src:url,alt:"",width:"100%"})),react_1.default.createElement("pre",{className:"json"},JSON.stringify(function clone({file:file,...rest}){if(file)return{file:{lastModified:file.lastModified,name:file.name,size:file.size,type:file.type},...rest};return{}}(rest),null,2)))))}},420:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxPasteImage_1=__webpack_require__(845),Display_1=__webpack_require__(410);exports.PasteImage=()=>{const[image,props]=useRxPasteImage_1.useRxPasteImage();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},props,{placeholder:"Paste image here"})),react_1.default.createElement(Display_1.Display,{image:image}))}},421:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxDropImage_1=__webpack_require__(846),Display_1=__webpack_require__(410);exports.DropImage=()=>{const[image,props]=useRxDropImage_1.useRxDropImage();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",Object.assign({},props,{style:{width:"100%",border:"1px dashed",color:"#ccc",textAlign:"center",padding:30}}),"Drop an image to here"),react_1.default.createElement(Display_1.Display,{image:image}))}},422:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxInput_1=__webpack_require__(128);exports.Basic=()=>{const[value,inputProps]=useRxInput_1.useRxInput();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},423:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxInput_1=__webpack_require__(128);exports.DefaultValue=()=>{const[value,inputProps]=useRxInput_1.useRxInput({defaultValue:"Default Value"});return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},424:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxInputComposing_1=__webpack_require__(847);exports.Composing=()=>{const[value,inputProps]=useRxInputComposing_1.useRxInputComposing();return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},425:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxInput_1=__webpack_require__(128),operators_1=__webpack_require__(105),debounce=ob=>ob.pipe(operators_1.debounceTime(1e3));exports.Debounce=()=>{const[value,inputProps]=useRxInput_1.useRxInput({pipe:debounce});return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({},inputProps)),react_1.default.createElement("pre",null,value))}},426:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxInput_1=__webpack_require__(128),operators_1=__webpack_require__(105),double=ob=>ob.pipe(operators_1.map(v=>isNaN(Number(v))?0:2*Number(v)));exports.Double=()=>{const[value,inputProps]=useRxInput_1.useRxInput({pipe:double});return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",Object.assign({type:"number"},inputProps)),react_1.default.createElement("pre",null,value))}},427:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),useRxScroll_1=__webpack_require__(848);exports.Basic=function Basic(){const[state,props]=useRxScroll_1.useRxScroll();return react_1.default.createElement("div",{style:{position:"relative",height:300}},react_1.default.createElement("pre",{style:{position:"absolute",top:0,left:0}},JSON.stringify(state,null,2)),react_1.default.createElement("div",Object.assign({},props,{style:{overscrollBehavior:"contain",overflow:"scroll",position:"absolute",width:"100%",height:300}}),react_1.default.createElement("div",{style:{width:5e3,height:5e3}})))}},428:function(module,exports,__webpack_require__){__webpack_require__(429),__webpack_require__(538),module.exports=__webpack_require__(539)},450:function(module,exports){},539:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(412);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(727),module)}.call(this,__webpack_require__(540)(module))},727:function(module,exports,__webpack_require__){var map={"./__stories__/useRxAsync/useRxAsync.stories.mdx":728,"./__stories__/useRxFileToImage/useRxFileToImage.stories.mdx":851,"./__stories__/useRxInput/useRxInput.stories.mdx":850,"./__stories__/useScroll/useScroll.stories.mdx":853};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=727},728:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(1);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(42);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"useRxAsync",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"Goto my other repo ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"https://github.com/Pong420/useRxAsync"}),"useRxAsync")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxAsync",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent},__webpack_exports__.default=componentMeta},77:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__(1)),components_1=__webpack_require__(93);exports.Preview=({language:language="jsx",code:code,children:children,withSource:withSource,...props})=>react_1.default.createElement(components_1.Preview,{withSource:{...withSource,code:code,language:language},...props},children),exports.delay=ms=>new Promise(_=>setTimeout(_,ms))},845:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(1),rxjs_1=__webpack_require__(129),operators_1=__webpack_require__(105),useRxFileToImage_1=__webpack_require__(409);function fromPasteImageEvent(clipboardEvent){return[clipboardEvent.clipboardData&&clipboardEvent.clipboardData.items,clipboardEvent]}exports.fromPasteImageEvent=fromPasteImageEvent,exports.useRxPasteImage=function useRxPasteImage(){const subject=react_1.useRef(new rxjs_1.Subject),props={onPaste:event=>subject.current.next(event)};return[useRxFileToImage_1.useRxFileToImage(subject.current.asObservable().pipe(operators_1.map(fromPasteImageEvent))),props]}},846:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(1),rxjs_1=__webpack_require__(129),operators_1=__webpack_require__(105),useRxFileToImage_1=__webpack_require__(409);function fromDropImageEvent(dragEvent){return[dragEvent.dataTransfer&&dragEvent.dataTransfer.items,dragEvent]}exports.fromDropImageEvent=fromDropImageEvent;const onDragOver=event=>event.preventDefault();exports.useRxDropImage=function useRxDropImage(){const subject=react_1.useRef(new rxjs_1.Subject),props={onDrop:react_1.useCallback(event=>{subject.current.next(event)},[]),onDragOver:onDragOver};return[useRxFileToImage_1.useRxFileToImage(subject.current.asObservable().pipe(operators_1.map(fromDropImageEvent))),props]}},847:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(1),rxjs_1=__webpack_require__(129),operators_1=__webpack_require__(105),useRxInput_1=__webpack_require__(128);exports.useRxInputComposing=function useRxInputComposing({pipe:pipe,...options}={}){const compositionStart$=react_1.useRef(new rxjs_1.Subject),compositionEnd$=react_1.useRef(new rxjs_1.Subject),isComposing=react_1.useMemo(()=>source$=>{const isComposing$=rxjs_1.merge(compositionStart$.current.pipe(operators_1.map(()=>!0)),compositionEnd$.current.pipe(operators_1.map(()=>!1))).pipe(operators_1.startWith(!1));return source$.pipe(operators_1.combineLatest(isComposing$),operators_1.filter(([,isComposing])=>!isComposing),operators_1.map(([value])=>value),pipe||rxjs_1.pipe())},[pipe]),[value,inputProps]=useRxInput_1.useRxInput({pipe:isComposing,...options});return[value,react_1.useMemo(()=>{const handler=subject=>event=>subject.next(event);return{...inputProps,onCompositionStart:handler(compositionStart$.current),onCompositionEnd:handler(compositionEnd$.current)}},[inputProps])]}},848:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__(1),rxjs_1=__webpack_require__(129),operators_1=__webpack_require__(105);function getPos(el){return el instanceof Window?{x:el.scrollX,y:el.scrollY}:{x:el.scrollTop,y:el.scrollLeft}}exports.useRxScroll=function useRxScroll(ob){const subject=react_1.useRef(new rxjs_1.Subject),onScroll=react_1.useCallback(event=>subject.current.next(event),[]),[state,setState]=react_1.useState({x:0,y:0,scrolling:!1});return react_1.useEffect(()=>{const subscription=(ob||subject.current.asObservable()).pipe(operators_1.map(event=>({...getPos(event.currentTarget),scrolling:!0})),operators_1.tap(state=>setState(state)),operators_1.debounceTime(150),operators_1.tap(state=>setState({...state,scrolling:!1}))).subscribe();return()=>subscription.unsubscribe()},[ob]),[state,{onScroll:onScroll}]}},850:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1);var index_es=__webpack_require__(4),blocks=__webpack_require__(42),utils=__webpack_require__(77),Basic=__webpack_require__(422),Composing=__webpack_require__(424),DefaultValue=__webpack_require__(423),Debounce=__webpack_require__(425),Double=__webpack_require__(426),useRxInput_Basic="import React from 'react';\nimport { useRxInput } from '../../useRxInput';\n\nexport const Basic = () => {\n  const [value, inputProps] = useRxInput();\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_Composing="import React from 'react';\nimport { useRxInputComposing } from '../../useRxInputComposing';\n\nexport const Composing = () => {\n  const [value, inputProps] = useRxInputComposing();\n\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_DefaultValue="import React from 'react';\nimport { useRxInput } from '../../useRxInput';\n\nexport const DefaultValue = () => {\n  const [value, inputProps] = useRxInput({ defaultValue: 'Default Value' });\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_Debounce="import React from 'react';\nimport { useRxInput, RxInputPipe } from '../../useRxInput';\nimport { debounceTime } from 'rxjs/operators';\n\nconst debounce: RxInputPipe<string> = ob => ob.pipe(debounceTime(1000));\n\nexport const Debounce = () => {\n  const [value, inputProps] = useRxInput({ pipe: debounce });\n  return (\n    <>\n      <input {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n",useRxInput_Double="import React from 'react';\nimport { useRxInput, RxInputPipe } from '../../useRxInput';\nimport { map } from 'rxjs/operators';\n\nconst double: RxInputPipe<number> = ob =>\n  ob.pipe(map(v => (!isNaN(Number(v)) ? Number(v) * 2 : 0)));\n\nexport const Double = () => {\n  const [value, inputProps] = useRxInput({ pipe: double });\n  return (\n    <>\n      <input type=\"number\" {...inputProps} />\n      <pre>{value}</pre>\n    </>\n  );\n};\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxInput",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxInput"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [value, inputProps] = useRxInput(options?);\nconst [value, inputProps] = useRxInputComposing(options?);\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"export type RxInputEl = HTMLInputElement | HTMLTextAreaElement;\n\nexport type RxInputPipe<O> = (ob: Observable<string>) => Observable<string | O>;\n\nexport interface RxInputOptions<O> {\n  defaultValue?: string;\n  pipe?: RxInputPipe<O>;\n}\n\nexport function useRxInput<O, T extends RxInputEl = HTMLInputElement>(\n  options?: RxInputOptions<O>\n): [\n  string | O | undefined,\n  Required<Pick<InputHTMLAttributes<T>, 'value' | 'onChange'>>\n];\n\nexport function useRxInputComposing<O, T extends RxInputEl = HTMLInputElement>(\n  options?: RxInputOptions<O>\n): [\n  string | O | undefined,\n  Required<\n    Pick<\n      InputHTMLAttributes<T>,\n      'value' | 'onChange' | 'onCompositionStart' | 'onCompositionEnd'\n    >\n  >\n];\n")),Object(index_es.mdx)("h2",null,"Basic"),Object(index_es.mdx)(utils.Preview,{name:"Basic",code:useRxInput_Basic,mdxType:"Preview"},Object(index_es.mdx)(Basic.Basic,{mdxType:"Basic"})),Object(index_es.mdx)("h2",null,"With default value"),Object(index_es.mdx)(utils.Preview,{name:"Default Value",code:useRxInput_DefaultValue,mdxType:"Preview"},Object(index_es.mdx)(DefaultValue.DefaultValue,{mdxType:"DefaultValue"})),Object(index_es.mdx)("h2",null,"Ignore value change while composing"),Object(index_es.mdx)(utils.Preview,{name:"Composing",code:useRxInput_Composing,mdxType:"Preview"},Object(index_es.mdx)(Composing.Composing,{mdxType:"Composing"})),Object(index_es.mdx)("h2",null,"Debounce 1 second"),Object(index_es.mdx)(utils.Preview,{name:"Debounce",code:useRxInput_Debounce,mdxType:"Preview"},Object(index_es.mdx)(Debounce.Debounce,{mdxType:"Debounce"})),Object(index_es.mdx)("h2",null,"Double your input"),Object(index_es.mdx)(utils.Preview,{name:"Double",code:useRxInput_Double,mdxType:"Preview"},Object(index_es.mdx)(Double.Double,{mdxType:"Double"})))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxInput",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta},851:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1);var index_es=__webpack_require__(4),blocks=__webpack_require__(42),utils=__webpack_require__(77),PasteImage=__webpack_require__(420),DropImage=__webpack_require__(421),useRxFileToImage_PasteImage="import React from 'react';\nimport { useRxPasteImage } from '../../useRxPasteImage';\nimport { Display } from './Display';\n\nexport const PasteImage = () => {\n  const [image, props] = useRxPasteImage();\n\n  return (\n    <>\n      <input {...props} placeholder=\"Paste image here\" />\n      <Display image={image}></Display>\n    </>\n  );\n};\n",useRxFileToImage_DropImage="import React from 'react';\nimport { useRxDropImage } from '../../useRxDropImage';\nimport { Display } from './Display';\n\nexport const DropImage = () => {\n  const [image, props] = useRxDropImage();\n\n  return (\n    <>\n      <div\n        {...props}\n        style={{\n          width: '100%',\n          border: '1px dashed',\n          color: '#ccc',\n          textAlign: 'center',\n          padding: 30,\n        }}\n      >\n        Drop an image to here\n      </div>\n      <Display image={image}></Display>\n    </>\n  );\n};\n",Window="import React, { ClipboardEvent, DragEvent, useEffect } from 'react';\nimport { fromEvent } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { fromDropImageEvent } from '../../useRxDropImage';\nimport { fromPasteImageEvent } from '../../useRxPasteImage';\nimport { useRxFileToImage } from '../../useRxFileToImage';\nimport { Display } from './Display';\n\nconst paste$ = fromEvent<ClipboardEvent<Window>>(window, 'paste').pipe(\n  map(fromPasteImageEvent)\n);\n\nconst drop$ = fromEvent<DragEvent<Window>>(window, 'drop').pipe(\n  map(fromDropImageEvent)\n);\n\nconst preventDefault = (evt: Event) => evt.preventDefault();\n\nexport const Window = () => {\n  const image = useRxFileToImage(paste$, drop$);\n\n  useEffect(() => {\n    window.addEventListener('dragover', preventDefault);\n    return () => window.removeEventListener('dragover', preventDefault);\n  }, []);\n\n  return <Display image={image} />;\n};\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxFileToImage",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxFileToImage"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [state?, props] = useRxFileToImage(...source$);\n\n// HOC of `useRxFileToImage`\nconst [state?, props] = useRxDropImage();\nconst [state?, props] = useRxPasteImage();\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"\ntype Source = Observable<[DataTransferItemList | null, Event | SyntheticEvent]>;\n\nexport interface RxFileToImageState {\n  url: string;\n  file: File | null;\n  type: string;\n}\n\nexport function useRxFileToImage(...source$: Source[]): RxFileToImageState:\n\nexport function useRxDropImage(): [RxFileToImageState, { onPaste }];\nexport function useRxPasteImage(): [RxFileToImageState, { onDrop, onDragOver }];\n")),Object(index_es.mdx)("h2",null,"Paste Image"),Object(index_es.mdx)(utils.Preview,{name:"Paste Image",code:useRxFileToImage_PasteImage,mdxType:"Preview"},Object(index_es.mdx)(PasteImage.PasteImage,{mdxType:"PasteImage"})),Object(index_es.mdx)("h2",null,"Drop Image"),Object(index_es.mdx)(utils.Preview,{name:"Drop Image",code:useRxFileToImage_DropImage,mdxType:"Preview"},Object(index_es.mdx)(DropImage.DropImage,{mdxType:"DropImage"})),Object(index_es.mdx)("h2",null,"Custom"),Object(index_es.mdx)("blockquote",null,Object(index_es.mdx)("p",{parentName:"blockquote"},"you could import ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"fromDropImageEvent"),", ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"fromPasteImageEvent"),", ",Object(index_es.mdx)("inlineCode",{parentName:"p"},"useRxFileToImage")," from this libaray")),Object(index_es.mdx)("p",null,"An example"),Object(index_es.mdx)("ul",null,Object(index_es.mdx)("li",{parentName:"ul"},"mix paste and drop action"),Object(index_es.mdx)("li",{parentName:"ul"},"use window instead of dom")),Object(index_es.mdx)(blocks.Source,{code:Window,language:"jsx",mdxType:"Source"}))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxFileToImage",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta},853:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1);var index_es=__webpack_require__(4),blocks=__webpack_require__(42),utils=__webpack_require__(77),Basic=__webpack_require__(427),useScroll_Basic="import React from 'react';\nimport { useRxScroll } from '../../useRxScroll';\n\nexport function Basic() {\n  const [state, props] = useRxScroll();\n\n  return (\n    <div style={{ position: 'relative', height: 300 }}>\n      <pre style={{ position: 'absolute', top: 0, left: 0 }}>\n        {JSON.stringify(state, null, 2)}\n      </pre>\n      <div\n        {...props}\n        style={{\n          overscrollBehavior: 'contain',\n          overflow: 'scroll',\n          position: 'absolute',\n          width: '100%',\n          height: 300,\n        }}\n      >\n        <div style={{ width: 5000, height: 5000 }}></div>\n      </div>\n    </div>\n  );\n}\n",Window="import React, { UIEvent, useEffect } from 'react';\nimport { fromEvent } from 'rxjs';\nimport { useRxScroll } from '../../useRxScroll';\n\nconst windowScroll$ = fromEvent<UIEvent>(window, 'scroll');\n\nexport function Window() {\n  const [state] = useRxScroll(windowScroll$);\n\n  return <pre>{JSON.stringify(state, null, 2)}</pre>;\n}\n\n// or\n\nexport function Window2() {\n  const [state, { onScroll }] = useRxScroll();\n\n  useEffect(() => {\n    const handler = (event: any) => onScroll(event as UIEvent);\n    window.addEventListener('scroll', handler);\n    return () => window.addEventListener('scroll', handler);\n  }, [onScroll]);\n\n  return <pre>{JSON.stringify(state, null, 2)}</pre>;\n}\n";function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));const layoutProps={},MDXLayout="wrapper";function MDXContent({components:components,...props}){return Object(index_es.mdx)(MDXLayout,_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(index_es.mdx)(blocks.Meta,{title:"useRxScroll",mdxType:"Meta"}),Object(index_es.mdx)("h1",null,"useRxScroll"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"const [state, props] = useRxScroll(ob?);\n")),Object(index_es.mdx)("h2",null,"Typings"),Object(index_es.mdx)("pre",null,Object(index_es.mdx)("code",_extends({parentName:"pre"},{className:"language-js"}),"import { UIEvent } from 'react';\n\nexport interface RxScrollState {\n  x: number;\n  y: number;\n  scrolling: boolean;\n}\n\nexport function useRxScroll(ob?: Observable<UIEvent<T>>): [RxFileToImageState, { onScroll }]:\n")),Object(index_es.mdx)("h2",null,"Basic"),Object(index_es.mdx)(utils.Preview,{name:"Basic",code:useScroll_Basic,mdxType:"Preview"},Object(index_es.mdx)(Basic.Basic,{mdxType:"Basic"})),Object(index_es.mdx)("h2",null,"Use with window"),Object(index_es.mdx)(blocks.Source,{code:Window,language:"jsx",mdxType:"Source"}))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"useRxScroll",includeStories:["__page"]},mdxStoryNameToId={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={container:({context:context,children:children})=>Object(index_es.mdx)(blocks.DocsContainer,{context:{...context,mdxStoryNameToId:mdxStoryNameToId}},children),page:MDXContent};__webpack_exports__.default=componentMeta}},[[428,1,2]]]);
//# sourceMappingURL=main.3e7d7093bde14163bd45.bundle.js.map